<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Daily Pocket</title>
<style>
body { font-family: system-ui; background: linear-gradient(180deg,#eef1f8,#f8f9fc); margin:0; padding:16px; }
h1{text-align:center;margin-bottom:8px;}
.lang{text-align:center;margin-bottom:16px;}
.lang button{margin:0 6px;padding:6px 12px;border-radius:20px;border:1px solid #4b7bec;background:white;color:#4b7bec;}
.card{background:white;border-radius:16px;padding:16px;margin-bottom:16px;box-shadow:0 8px 20px rgba(0,0,0,0.06);}
input,select{width:100%;padding:10px;margin:6px 0;border-radius:10px;border:1px solid #ddd;}
button.main{width:100%;padding:12px;background:#4b7bec;color:white;border:none;border-radius:12px;margin-top:8px;}
.result{margin-top:10px;line-height:1.6;}
.small{font-size:12px;color:#666;}
a{display:block;margin:6px 0;}
</style>
</head>
<body>

<h1 id="title">ğŸ“± Daily Pocket</h1>

<div class="lang">
  <button onclick="setLang('zh')">ä¸­æ–‡</button>
  <button onclick="setLang('en')">English</button>
</div>

<!-- ç®—å‘½ -->
<div class="card">
<h3 id="fortuneTitle"></h3>
<input id="age" placeholder="">
<select id="gender">
  <option value="ç”·">ç”·</option>
  <option value="å¥³">å¥³</option>
</select>
<select id="star">
  <option>ç™½ç¾Šåº§</option><option>é‡‘ç‰›åº§</option><option>åŒå­åº§</option>
  <option>å·¨èŸ¹åº§</option><option>ç‹®å­åº§</option><option>å¤„å¥³åº§</option>
  <option>å¤©ç§¤åº§</option><option>å¤©èåº§</option><option>å°„æ‰‹åº§</option>
  <option>æ‘©ç¾¯åº§</option><option>æ°´ç“¶åº§</option><option>åŒé±¼åº§</option>
</select>
<input id="food" placeholder="">
<button class="main" onclick="fortune()" id="fortuneBtn"></button>
<div id="fortuneResult" class="result"></div>
</div>

<!-- ä»Šå¤©è¿˜æ´»ç€å— -->
<div class="card">
<h3 id="aliveTitle"></h3>
<button class="main" onclick="checkin()" id="aliveBtn"></button>
<div id="checkinResult" class="result"></div>
<div class="small" id="checkinInfo"></div>
</div>

<!-- å·¥å…· -->
<div class="card">
<h3 id="toolTitle"></h3>
<a href="https://tool.lu" target="_blank">tool.lu</a>
<a href="https://www.remove.bg" target="_blank">remove.bg</a>
<a href="https://tinywow.com" target="_blank">TinyWow</a>
<a href="https://www.deepl.com/translator" target="_blank">DeepL</a>
<p class="small" id="toolNote"></p>
</div>

<script>
// ---------- è¯­è¨€ ----------
const text = {
zh:{
title:"ğŸ“± Daily Pocket",
fortuneTitle:"ğŸ”® ä»Šæ—¥æç¬‘ç®—å‘½",
age:"è¾“å…¥ä½ çš„å¹´é¾„",
food:"ä½ æœ€å–œæ¬¢åƒä»€ä¹ˆï¼Ÿ",
fortuneBtn:"å¼€å§‹ç®—å‘½",
aliveTitle:"â¤ï¸ ä»Šå¤©è¿˜æ´»ç€å—",
aliveBtn:"æˆ‘è¿˜æ´»ç€",
toolTitle:"ğŸ§° å…è´¹å®ç”¨å·¥å…·",
toolNote:"å·¥å…·æ¥è‡ªäº’è”ç½‘å…¬å¼€å…è´¹æœåŠ¡"
},
en:{
title:"ğŸ“± Daily Pocket",
fortuneTitle:"ğŸ”® Funny Fortune",
age:"Your age",
food:"Your favorite food",
fortuneBtn:"Tell My Fortune",
aliveTitle:"â¤ï¸ Are You Still Alive Today?",
aliveBtn:"I'm Still Here",
toolTitle:"ğŸ§° Free Useful Tools",
toolNote:"Tools from public free online services"
}
};

let lang = localStorage.getItem("lang") || "zh";
function setLang(l){ lang=l; localStorage.setItem("lang",l); applyLang(); }
function applyLang(){
  let t=text[lang];
  title.innerText=t.title;
  fortuneTitle.innerText=t.fortuneTitle;
  age.placeholder=t.age;
  food.placeholder=t.food;
  fortuneBtn.innerText=t.fortuneBtn;
  aliveTitle.innerText=t.aliveTitle;
  aliveBtn.innerText=t.aliveBtn;
  toolTitle.innerText=t.toolTitle;
  toolNote.innerText=t.toolNote;
}
applyLang();

// ---------- ç®—å‘½ ----------
const fortuneTemplates={
zh:[
"ä½ è¿™ä¸ªå¹´çºªï¼Œå¯¹{food}çš„çƒ­çˆ±è¯´æ˜ä½ å¾ˆå¿µæ—§ã€‚",
"ä½œä¸º{star}ï¼Œä½ æœ€è¿‘ä¼šè¢«ä¸€å¥è¯æˆ³ä¸­ã€‚",
"å‘½è¿æé†’ä½ ï¼šå¿«ä¹æ¯”æ„ä¹‰é‡è¦ã€‚",
"ä½ å¹¶ä¸è¿·ä¿¡ï¼Œä½†ä½ è¿˜æ˜¯ç‚¹è¿›æ¥äº†ã€‚"
],
en:[
"Your love for {food} says more than you think.",
"As a {star}, today feels quietly important.",
"Life reminds you: joy matters more than meaning.",
"You say you don't believe it, yet here you are."
]
};
function fortune(){
  let star=document.getElementById("star").value;
  let food=document.getElementById("food").value||"something";
  let arr=fortuneTemplates[lang];
  let tpl=arr[Math.floor(Math.random()*arr.length)];
  fortuneResult.innerText=tpl.replace("{food}",food).replace("{star}",star);
}

// ---------- ä»Šå¤©è¿˜æ´»ç€å— ----------
const careText = {
zh:[], en:[]
};

// è‡ªåŠ¨ç”Ÿæˆ200æ¡ä¸­æ–‡å’Œè‹±æ–‡
for(let i=1;i<=200;i++){
  careText.zh.push(`è¿™æ˜¯ç¬¬${i}æ¡ä¸­æ–‡å…³æ€€æ–‡æ¡ˆï¼Œä¿æŒå¼€å¿ƒï¼`);
  careText.en.push(`This is English care message #${i}, stay happy!`);
}

function checkin(){
  const now=new Date();
  const today=now.toISOString().slice(0,10);
  let usage=JSON.parse(localStorage.getItem("aliveUse")||"{}");

  if(usage.date!==today){ usage={date:today,count:0}; }

  if(usage.count>=2){
    checkinResult.innerText = lang==="zh"?"ä»Šå¤©å·²ä½¿ç”¨ä¸¤æ¬¡ï¼Œè¯·æ˜å¤©å†æ¥":"You already used it twice today, come back tomorrow.";
    return;
  }

  usage.count++;
  localStorage.setItem("aliveUse",JSON.stringify(usage));

  let idx=Math.floor(Math.random()*careText[lang].length);
  checkinResult.innerText=careText[lang][idx];
  checkinInfo.innerText="ğŸ•’ "+now.toLocaleString()+" ï½œ ä½¿ç”¨æ¬¡æ•° "+usage.count+"/2";
}

</script>

</body>
</html>
